{% if section.settings.product %}
  {% assign product1 = all_products[section.settings.product] %}
  {% assign product2 = all_products[section.settings.product2] %}
  {% assign product3 = all_products[section.settings.product3] %}
  {% assign product4 = all_products[section.settings.product4] %}
  {% assign product5 = all_products[section.settings.product5] %}
{% assign product6 = all_products[section.settings.product6] %}

  <section class="peody-product-section">
    <div class="peody-product-row">

      <div class="peody-product-card" onclick="showPopup('peody-product-popup1')">
        <div class="peody-product-image">
          <img src="{{ product1.featured_image | img_url: section.settings.image_size }}" alt="{{ product1.title }}">
        </div>
      </div>
      
      
      <div class="peody-product-card" onclick="showPopup('peody-product-popup2')">
        <div class="peody-product-image">
          <img src="{{ product2.featured_image | img_url: section.settings.image_size }}" alt="{{ product2.title }}">
        </div>
      </div>

 
      <div class="peody-product-card" onclick="showPopup('peody-product-popup3')">
        <div class="peody-product-image">
          <img src="{{ product3.featured_image | img_url: section.settings.image_size }}" alt="{{ product3.title }}">
        </div>
      </div>

  
      <div class="peody-product-card" onclick="showPopup('peody-product-popup4')">
        <div class="peody-product-image">
          <img src="{{ product4.featured_image | img_url: section.settings.image_size }}" alt="{{ product4.title }}">
        </div>
      </div>
      
        <div class="peody-product-card" onclick="showPopup('peody-product-popup5')">
        <div class="peody-product-image">
          <img src="{{ product5.featured_image | img_url: section.settings.image_size }}" alt="{{ product5.title }}">
        </div>
      </div>
<div class="peody-product-card" onclick="showPopup('peody-product-popup6')">
        <div class="peody-product-image">
          <img src="{{ product6.featured_image | img_url: section.settings.image_size }}" alt="{{ product6.title }}">
        </div>
      </div>
    </div>

    
  </section>

  <!-- Product Popups (Initially Hidden) -->

  <div id="peody-product-popup1" class="peody-popup" style="display: none;">
    <div class="peody-popup-content">
      <span class="peody-close-btn" onclick="closePopup('1')">&times;</span>
<div class="left_right">
      <div class="peody-popup-image">
        <img src="{{ product1.featured_image | img_url: section.settings.image_size }}" alt="{{ product1.title }}">
      </div>
      <div class="right_side">
      <h2 class="peody-popup-product-title">{{ product1.title }}</h2>
      <p class="peody-popup-product-price">
        {% if product1.compare_at_price > product1.price %}
          <span class="peody-sale-price">{{ product1.price | money }}</span>
          <span class="peody-original-price">{{ product1.compare_at_price | money }}</span>
        {% else %}
          {{ product1.price | money }}
        {% endif %}
      </p>
      <p class="peody-description">{{ product1.description }}</p>
     </div>
</div>
      <div class="peody-popup-variants">
        {% if product1.variants.size > 1 %}
          <label for="variant1">Select Variant:</label>
          <select id="variant1" name="id">
            {% for variant in product1.variants %}
              <option value="{{ variant.id }}">
                {{ variant.title }} - {{ variant.price | money }}
              </option>
            {% endfor %}
          </select>
        {% else %}
          <input type="hidden" name="id" value="{{ product1.variants.first.id }}">
        {% endif %}
      </div>
      <!-- Add to Cart Form -->
      <form method="post" action="/cart/add" class="peody-add-to-cart-form">
        <input type="hidden" name="id" id="peody-cart-id1" value="{{ product1.variants.first.id }}">
        <input type="hidden" name="quantity" id="peody-cart-quantity1" value="1">
        <button type="submit" class="peody-add-to-cart-button">{{ section.settings.button_text }}</button>
      </form>
    </div>
  </div>

  <!-- Repeat similar structure for Product 2, Product 3, and Product 4 -->
  
  <div id="peody-product-popup2" class="peody-popup" style="display: none;">
  <div class="peody-popup-content">
    <span class="peody-close-btn" onclick="closePopup('2')">&times;</span>

    <!-- Product 2 Image in Popup -->
    <div class="peody-popup-image">
      <img src="{{ all_products[section.settings.product2].featured_image | img_url: section.settings.image_size }}" alt="{{ all_products[section.settings.product2].title }}">
    </div>

    <!-- Product Title and Price -->
    <h2 class="peody-popup-product-title">{{ all_products[section.settings.product2].title }}</h2>
    <p class="peody-popup-product-price">
      {% if all_products[section.settings.product2].compare_at_price > all_products[section.settings.product2].price %}
        <span class="peody-sale-price">{{ all_products[section.settings.product2].price | money }}</span>
        <span class="peody-original-price">{{ all_products[section.settings.product2].compare_at_price | money }}</span>
      {% else %}
        {{ all_products[section.settings.product2].price | money }}
      {% endif %}
    </p>
    <p class="peody-description">{{ all_products[section.settings.product2].description }}</p>

    <!-- Product Variant Selector -->
    <div class="peody-popup-variants">
      {% if all_products[section.settings.product2].variants.size > 1 %}
        <label for="variant2">Select Variant:</label>
        <select id="variant2" name="id">
          {% for variant in all_products[section.settings.product2].variants %}
            <option value="{{ variant.id }}">
              {{ variant.title }} - {{ variant.price | money }}
            </option>
          {% endfor %}
        </select>
      {% else %}
        <input type="hidden" name="id" value="{{ all_products[section.settings.product2].variants.first.id }}">
      {% endif %}
    </div>

   

    <!-- Add to Cart Button -->
    <form method="post" action="/cart/add" class="peody-add-to-cart-form">
      <input type="hidden" name="id" id="peody-cart-id2" value="{{ all_products[section.settings.product2].variants.first.id }}">
      <input type="hidden" name="quantity" id="peody-cart-quantity2" value="1">
      <button type="submit" class="peody-add-to-cart-button">{{ section.settings.button_text }}</button>
    </form>
  </div>
</div>



 <div id="peody-product-popup3" class="peody-popup" style="display: none;">
  <div class="peody-popup-content">
    <span class="peody-close-btn" onclick="closePopup('3')">&times;</span>

   

    <!-- Product Title and Price -->
    <h2 class="peody-popup-product-title">{{ all_products[section.settings.product3].title }}</h2>
    <p class="peody-popup-product-price">
      {% if all_products[section.settings.product3].compare_at_price > all_products[section.settings.product3].price %}
        <span class="peody-sale-price">{{ all_products[section.settings.product3].price | money }}</span>
        <span class="peody-original-price">{{ all_products[section.settings.product3].compare_at_price | money }}</span>
      {% else %}
        {{ all_products[section.settings.product3].price | money }}
      {% endif %}
    </p>
    <p class="peody-description">{{ all_products[section.settings.product3].description }}</p>

    <!-- Product Variant Selector -->
    <div class="peody-popup-variants">
      {% if all_products[section.settings.product3].variants.size > 1 %}
        <label for="variant3">Select Variant:</label>
        <select id="variant3" name="id">
          {% for variant in all_products[section.settings.product3].variants %}
            <option value="{{ variant.id }}">
              {{ variant.title }} - {{ variant.price | money }}
            </option>
          {% endfor %}
        </select>
      {% else %}
        <input type="hidden" name="id" value="{{ all_products[section.settings.product3].variants.first.id }}">
      {% endif %}
    </div>

  

    <!-- Add to Cart Button -->
    <form method="post" action="/cart/add" class="peody-add-to-cart-form">
      <input type="hidden" name="id" id="peody-cart-id3" value="{{ all_products[section.settings.product3].variants.first.id }}">
      <input type="hidden" name="quantity" id="peody-cart-quantity3" value="1">
      <button type="submit" class="peody-add-to-cart-button">{{ section.settings.button_text }}</button>
    </form>
  </div>
</div>


  <div id="peody-product-popup4" class="peody-popup" style="display: none;">
  <div class="peody-popup-content">
    <span class="peody-close-btn" onclick="closePopup('4')">&times;</span>

    <div class="peody-popup-image">
      <img src="{{ all_products[section.settings.product4].featured_image | img_url: section.settings.image_size }}" alt="{{ all_products[section.settings.product4].title }}">
    </div>

    <!-- Product Title and Price -->
    <h2 class="peody-popup-product-title">{{ all_products[section.settings.product4].title }}</h2>
    <p class="peody-popup-product-price">
      {% if all_products[section.settings.product4].compare_at_price > all_products[section.settings.product4].price %}
        <span class="peody-sale-price">{{ all_products[section.settings.product4].price | money }}</span>
        <span class="peody-original-price">{{ all_products[section.settings.product4].compare_at_price | money }}</span>
      {% else %}
        {{ all_products[section.settings.product4].price | money }}
      {% endif %}
    </p>
    <p class="peody-description">{{ all_products[section.settings.product4].description }}</p>

    <!-- Product Variant Selector -->
    <div class="peody-popup-variants">
      {% if all_products[section.settings.product4].variants.size > 1 %}
        <label for="variant4">Select Variant:</label>
        <select id="variant4" name="id">
          {% for variant in all_products[section.settings.product4].variants %}
            <option value="{{ variant.id }}">
              {{ variant.title }} - {{ variant.price | money }}
            </option>
          {% endfor %}
        </select>
      {% else %}
        <input type="hidden" name="id" value="{{ all_products[section.settings.product4].variants.first.id }}">
      {% endif %}
    </div>

   

    <!-- Add to Cart Button -->
    <form method="post" action="/cart/add" class="peody-add-to-cart-form">
      <input type="hidden" name="id" id="peody-cart-id4" value="{{ all_products[section.settings.product4].variants.first.id }}">
      <input type="hidden" name="quantity" id="peody-cart-quantity4" value="1">
      <button type="submit" class="peody-add-to-cart-button">{{ section.settings.button_text }}</button>
    </form>
  </div>
</div>

  <div id="peody-product-popup5" class="peody-popup" style="display: none;">
  <div class="peody-popup-content">
    <span class="peody-close-btn" onclick="closePopup('5')">&times;</span>


    <div class="peody-popup-image">
      <img src="{{ all_products[section.settings.product5].featured_image | img_url: section.settings.image_size }}" alt="{{ all_products[section.settings.product5].title }}">
    </div>

    <!-- Product Title and Price -->
    <h2 class="peody-popup-product-title">{{ all_products[section.settings.product5].title }}</h2>
    <p class="peody-popup-product-price">
      {% if all_products[section.settings.product5].compare_at_price > all_products[section.settings.product5].price %}
        <span class="peody-sale-price">{{ all_products[section.settings.product5].price | money }}</span>
        <span class="peody-original-price">{{ all_products[section.settings.product5].compare_at_price | money }}</span>
      {% else %}
        {{ all_products[section.settings.product5].price | money }}
      {% endif %}
    </p>
    <p class="peody-description">{{ all_products[section.settings.product5].description }}</p>

    <!-- Product Variant Selector -->
    <div class="peody-popup-variants">
      {% if all_products[section.settings.product5].variants.size > 1 %}
        <label for="variant5">Select Variant:</label>
        <select id="variant5" name="id">
          {% for variant in all_products[section.settings.product5].variants %}
            <option value="{{ variant.id }}">
              {{ variant.title }} - {{ variant.price | money }}
            </option>
          {% endfor %}
        </select>
      {% else %}
        <input type="hidden" name="id" value="{{ all_products[section.settings.product5].variants.first.id }}">
      {% endif %}
    </div>

  

    <!-- Add to Cart Button -->
    <form method="post" action="/cart/add" class="peody-add-to-cart-form">
      <input type="hidden" name="id" id="peody-cart-id5" value="{{ all_products[section.settings.product5].variants.first.id }}">
      <input type="hidden" name="quantity" id="peody-cart-quantity5" value="1">
      <button type="submit" class="peody-add-to-cart-button">{{ section.settings.button_text }}</button>
    </form>
  </div>
</div>

  <div id="peody-product-popup6" class="peody-popup" style="display: none;">
  <div class="peody-popup-content">
    <span class="peody-close-btn" onclick="closePopup('6')">&times;</span>


    <div class="peody-popup-image">
      <img src="{{ all_products[section.settings.product6].featured_image | img_url: section.settings.image_size }}" alt="{{ all_products[section.settings.product6].title }}">
    </div>

    <h2 class="peody-popup-product-title">{{ all_products[section.settings.product6].title }}</h2>
    <p class="peody-popup-product-price">
      {% if all_products[section.settings.product6].compare_at_price > all_products[section.settings.product6].price %}
        <span class="peody-sale-price">{{ all_products[section.settings.product6].price | money }}</span>
        <span class="peody-original-price">{{ all_products[section.settings.product6].compare_at_price | money }}</span>
      {% else %}
        {{ all_products[section.settings.product6].price | money }}
      {% endif %}
    </p>
    <p class="peody-description">{{ all_products[section.settings.product6].description }}</p>

    <div class="peody-popup-variants">
      {% if all_products[section.settings.product6].variants.size > 1 %}
        <label for="variant6">Select Variant:</label>
        <select id="variant6" name="id">
          {% for variant in all_products[section.settings.product6].variants %}
            <option value="{{ variant.id }}">
              {{ variant.title }} - {{ variant.price | money }}
            </option>
          {% endfor %}
        </select>
      {% else %}
        <input type="hidden" name="id" value="{{ all_products[section.settings.product6].variants.first.id }}">
      {% endif %}
    </div>



    <form method="post" action="/cart/add" class="peody-add-to-cart-form">
      <input type="hidden" name="id" id="peody-cart-id6" value="{{ all_products[section.settings.product6].variants.first.id }}">
      <input type="hidden" name="quantity" id="peody-cart-quantity6" value="1">
      <button type="submit" class="peody-add-to-cart-button">{{ section.settings.button_text }}</button>
    </form>
  </div>
</div>





{% else %}
  <p>No products selected. Please select products in the theme editor.</p>
{% endif %}


{% schema %}
{
  "name": "Product Section",
  "settings": [
    {
      "type": "product",
      "id": "product",
      "label": "Select Product 1"
    },
    {
      "type": "product",
      "id": "product2",
      "label": "Select Product 2"
    },
    {
      "type": "product",
      "id": "product3",
      "label": "Select Product 3"
    },
    {
      "type": "product",
      "id": "product4",
      "label": "Select Product 4"
    },
     {
      "type": "product",
      "id": "product5",
      "label": "Select Product 5"
    },
{
      "type": "product",
      "id": "product6",
      "label": "Select Product 6"
    },
    {
      "type": "select",
      "id": "image_size",
      "label": "Image Size",
      "options": [
        { "value": "small", "label": "Small" },
        { "value": "medium", "label": "Medium" },
        { "value": "large", "label": "Large" }
      ],
      "default": "medium"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Add to Cart Button Text",
      "default": "Add to Cart"
    }
  ],
  "presets": [
    {
      "name": "Product Section",
      "category": "Product"
    }
  ]
}
{% endschema %}

<script>
  
  function showPopup(popupId) {
    document.getElementById(popupId).style.display = 'block';
  }


  function closePopup(popupId) {
    document.getElementById(popupId).style.display = 'none';
  }


  document.getElementById('peody-quantity').addEventListener('input', function() {
    document.getElementById('peody-cart-quantity').value = this.value;
  });


  document.getElementById('variant1').addEventListener('change', function() {
    var selectedVariantId = this.value;
    document.getElementById('peody-cart-id1').value = selectedVariantId;
  });
</script>
<script>

  function showPopup2() {
    document.getElementById('peody-product-popup2').style.display = 'block';
  }

  function closePopup(productNumber) {
    document.getElementById('peody-product-popup' + productNumber).style.display = 'none';
  }

  document.getElementById('peody-quantity2').addEventListener('input', function() {
    document.getElementById('peody-cart-quantity2').value = this.value;
  });


  document.getElementById('variant2').addEventListener('change', function() {
    var selectedVariantId = this.value;
    document.getElementById('peody-cart-id2').value = selectedVariantId;
  });
</script>
<script>

  function showPopup3() {
    document.getElementById('peody-product-popup3').style.display = 'block';
  }

  function closePopup(productNumber) {
    document.getElementById('peody-product-popup' + productNumber).style.display = 'none';
  }

  document.getElementById('peody-quantity3').addEventListener('input', function() {
    document.getElementById('peody-cart-quantity3').value = this.value;
  });

  // Update the hidden variant ID when a variant is selected for Product 3
  document.getElementById('variant3').addEventListener('change', function() {
    var selectedVariantId = this.value;
    document.getElementById('peody-cart-id3').value = selectedVariantId;
  });
</script>
<script>

  function showPopup4() {
    document.getElementById('peody-product-popup4').style.display = 'block';
  }


  function closePopup(productNumber) {
    document.getElementById('peody-product-popup' + productNumber).style.display = 'none';
  }

  document.getElementById('peody-quantity4').addEventListener('input', function() {
    document.getElementById('peody-cart-quantity4').value = this.value;
  });

  document.getElementById('variant4').addEventListener('change', function() {
    var selectedVariantId = this.value;
    document.getElementById('peody-cart-id4').value = selectedVariantId;
  });
</script>
<script>

  function showPopup4() {
    document.getElementById('peody-product-popup5').style.display = 'block';
  }

  function closePopup(productNumber) {
    document.getElementById('peody-product-popup' + productNumber).style.display = 'none';
  }

  document.getElementById('peody-quantity5').addEventListener('input', function() {
    document.getElementById('peody-cart-quantity5').value = this.value;
  });

  document.getElementById('variant5').addEventListener('change', function() {
    var selectedVariantId = this.value;
    document.getElementById('peody-cart-id5').value = selectedVariantId;
  });
</script>
<script>

  function showPopup4() {
    document.getElementById('peody-product-popup6').style.display = 'block';
  }


  function closePopup(productNumber) {
    document.getElementById('peody-product-popup' + productNumber).style.display = 'none';
  }


  document.getElementById('peody-quantity6').addEventListener('input', function() {
    document.getElementById('peody-cart-quantity6').value = this.value;
  });


  document.getElementById('variant6').addEventListener('change', function() {
    var selectedVariantId = this.value;
    document.getElementById('peody-cart-id6').value = selectedVariantId;
  });
</script>

<style>
section.peody-product-section {
    width: 60vw;
    margin: auto;
}
  .peody-popup {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1000;
  }

  .peody-popup-content {
    background: #fff;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    padding: 20px;
    max-width: 500px;
    width: 100%;
  }
.peody-popup-image img {
    width: 100%;
    height: auto;
}
  .peody-popup-image img {
    width: 30%;
    height: auto;
  }

  .peody-popup .peody-close-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 30px;
    cursor: pointer;
  }

  .peody-popup-variants select,
  .peody-popup-variants input {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
  }
p.peody-description {
    font-size: 12px;
}
form.peody-add-to-cart-form {
    margin-top: 11px;
}
.peody-popup-variants select, .peody-popup-variants input {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
    padding-left: unset;
}

  .peody-add-to-cart-button {
    background-color: black;
    color: white;
    padding: 10px;
    width: 100%;
    border: none;
    cursor: pointer;
  }



  .peody-popup-product-price {
    color: black;
  }

  .peody-product-card label {
    color: black !important;
  }
.peody-product-image {
  position: relative; /* Enables positioning for the ::after element */
  display: inline-block; /* Ensures the container wraps the image properly */
}

.peody-product-image img {
  width: 100%; /* Ensure the image fits its container */
  height: auto; /* Maintain the aspect ratio of the image */
  display: block; /* Removes unwanted space under the image */
}

.peody-product-image::after {
    content: "+";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 25px;
    /* font-weight: bold; */
    color: white;
    /* background-color: rgba(0, 0, 0, 0.5); */
    padding: 10px 15px;
    border-radius: 50%;
    z-index: 1;
    pointer-events: none;
}


  .peody-description p {
    color: black;
  }

  .peody-product-row {
    display: flex;
    justify-content: space-between;
  }

  .peody-product-card {
    cursor: pointer;
  }
.peody-product-row {
    display: grid
;
grid-template-columns: repeat(3, 1fr); 
}

</style>